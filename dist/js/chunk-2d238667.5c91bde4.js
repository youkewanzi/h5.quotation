(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d238667"],{fee7:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-container waybill"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isPort&&!t.isCompany,expression:"!isPort && !isCompany"}]},[s("div",{staticClass:"title"},[t._v("运单查询")]),s("div",{staticClass:"content"},[s("div",{staticClass:"item"},[t._m(0),s("div",{staticClass:"value"},[s("van-field",{staticClass:"input-box",attrs:{"is-link":"",readonly:"",placeholder:"请选择起运港"},on:{click:t.handlePort},model:{value:t.port.english_name,callback:function(e){t.$set(t.port,"english_name",e)},expression:"port.english_name"}})],1)]),s("div",{staticClass:"item"},[t._m(1),s("div",{staticClass:"value"},[s("van-field",{staticClass:"input-box",attrs:{"is-link":"",readonly:"",placeholder:"请选择船公司"},on:{click:t.handleCompany},model:{value:t.company.chinese_name,callback:function(e){t.$set(t.company,"chinese_name",e)},expression:"company.chinese_name"}})],1)]),s("div",{staticClass:"item"},[t._m(2),s("div",{staticClass:"value"},[s("van-radio-group",{attrs:{direction:"horizontal"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[s("van-radio",{attrs:{name:1,"icon-size":"16px"}},[t._v("箱号")]),s("van-radio",{attrs:{name:2,"icon-size":"16px"}},[t._v("SO")]),s("van-radio",{attrs:{name:3,"icon-size":"16px"}},[t._v("SWB")])],1)],1)]),s("div",{staticClass:"item"},[t._m(3),s("div",{staticClass:"value"},[s("van-field",{staticClass:"input-box",attrs:{placeholder:"请输入单号"},model:{value:t.order_id,callback:function(e){t.order_id=e},expression:"order_id"}})],1)]),s("button",{directives:[{name:"preventReClick",rawName:"v-preventReClick",value:3e3,expression:"3000"}],staticClass:"btn-query",on:{click:t.handleQuery}},[t._v("查询")])])]),s("port",{directives:[{name:"show",rawName:"v-show",value:t.isPort,expression:"isPort"}],on:{chooseItem:t.choosePort,close:t.closePort}}),s("company",{directives:[{name:"show",rawName:"v-show",value:t.isCompany,expression:"isCompany"}],on:{chooseItem:t.chooseCompany,close:t.closeCompany}})],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tit"},[s("span",[t._v("*")]),t._v("起运港")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tit"},[s("span",[t._v("*")]),t._v("船公司")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tit"},[s("span",[t._v("*")]),t._v("单号类型")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tit"},[s("span",[t._v("*")]),t._v("单号")])}],n=s("b775"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index-bar"},[s("div",{staticClass:"top"},[s("van-nav-bar",{attrs:{title:"起运港","left-text":"返回","left-arrow":""},on:{"click-left":t.handleReturn}}),s("van-search",{attrs:{clearable:!1,shape:"round",background:"linear-gradient(to right, #0075FF, #0DA4FF)",placeholder:"请输入中文或英文"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),s("van-index-bar",{attrs:{"index-list":t.indexList}},t._l(t.showList,(function(e,i){return s("div",{key:i},[s("van-index-anchor",{attrs:{index:i}}),t._l(e,(function(e){return s("van-cell",{key:e.id,staticClass:"item",on:{click:function(s){return t.handleClick(e)}}},[s("span",[t._v(t._s(e.english_name))]),s("span",[t._v(t._s(e.chinese_name))])])}))],2)})),0)],1)},o=[],l=(s("14d9"),{data(){return{keyword:"",datalist:[],port:{}}},computed:{indexList(){return Object.keys(this.showList)},showList(){if(this.keyword){let t={};return Object.keys(this.datalist).forEach(e=>{if(this.datalist[e].some(t=>t.chinese_name.includes(this.keyword)||t.english_name.includes(this.keyword))){let s=[];this.datalist[e].forEach(t=>{(t.chinese_name.includes(this.keyword)||t.english_name.includes(this.keyword))&&s.push(t)}),t[e]=s}}),t}return this.datalist}},mounted(){this.getList()},methods:{handleReturn(){this.$emit("close")},getList(){n["a"].portList().then(t=>{this.datalist=t.data||[]})},handleClick(t){this.$emit("chooseItem",t)}}}),c=l,d=s("2877"),h=Object(d["a"])(c,r,o,!1,null,null,null),u=h.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index-bar"},[s("div",{staticClass:"top"},[s("van-nav-bar",{attrs:{title:"船公司","left-text":"返回","left-arrow":""},on:{"click-left":t.handleReturn}}),s("van-search",{attrs:{clearable:!1,shape:"round",background:"linear-gradient(to right, #0075FF, #0DA4FF)",placeholder:"请输入关键词"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),s("van-index-bar",{attrs:{"index-list":t.indexList}},t._l(t.showList,(function(e,i){return s("div",{key:i},[s("van-index-anchor",{attrs:{index:i}}),t._l(e,(function(e){return s("van-cell",{key:e.id,staticClass:"item",on:{click:function(s){return t.handleClick(e)}}},[s("van-image",{attrs:{width:"0.36rem",height:"0.36rem",fit:"cover",src:t.staticImg(e.logo)}}),s("span",[t._v(t._s(e.chinese_name))])],1)}))],2)})),0)],1)},p=[],v=s("f262"),_={data(){return{keyword:"",datalist:[],company:{}}},computed:{indexList(){return Object.keys(this.showList)},showList(){if(this.keyword){let t={};return Object.keys(this.datalist).forEach(e=>{if(this.datalist[e].some(t=>t.chinese_name.includes(this.keyword))){let s=[];this.datalist[e].forEach(t=>{t.chinese_name.includes(this.keyword)&&s.push(t)}),t[e]=s}}),t}return this.datalist}},mounted(){this.getList()},methods:{handleReturn(){this.$emit("close")},getList(){n["a"].companyList().then(t=>{this.datalist=t.data||[]})},staticImg(t){return v["a"].staticUrl+t},handleClick(t){this.$emit("chooseItem",t)}}},y=_,f=Object(d["a"])(y,m,p,!1,null,null,null),k=f.exports,w={name:"Waybill",components:{port:u,company:k},data(){return{isPort:!1,isCompany:!1,port:{id:"",english_name:""},company:{id:"",chinese_name:""},type:1,order_id:"",user_id:""}},created(){this.user_id=this.$route.query.user_id||"",this.user_id||(window.location.href="https://api.hangyunli.com/user/login2")},methods:{handlePort(){this.isPort=!0},choosePort(t){this.port=t,this.isPort=!1},closePort(){this.isPort=!1},handleCompany(){this.isCompany=!0},chooseCompany(t){this.company=t,this.isCompany=!1},closeCompany(){this.isCompany=!1},handleQuery(){this.port.id?this.company.id?this.order_id?n["a"].queryOrder({start_port_id:this.port.id,ship_company_id:this.company.id,order_number:this.order_id,user_id:this.user_id}).then(t=>{t.data&&(window.location.href=t.data)}).catch(t=>{this.$toast(t)}):this.$toast("请输入单号"):this.$toast("请选择船公司"):this.$toast("请选择起运港")}}},C=w,x=Object(d["a"])(C,i,a,!1,null,null,null);e["default"]=x.exports}}]);