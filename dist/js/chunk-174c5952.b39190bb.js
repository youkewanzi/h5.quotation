(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-174c5952"],{"0a08":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAACW0lEQVRIS8WWPW8TQRCG3zlDg2hACPkfUEGBA0TiQygECXro+dB518ZIdBAJKpBIiQRYu3ci0EMNRSBCkALihAIa+Ad2gaBAaQ7fi9Y6G9sk91HYbLsz8+zM7s68gikvycMLw7ASx/EFACcAHACwJ/H7CeArgFXP8174vr+RFS8VaIw5IyL3ARzJCpTst0guaK3fbGe/JdBauwvAIwCXAOSqwhCAJJ+JSEMptTkO/ieYtXYfgJcFstoumVYURecbjcb3YYMRYJLZ2zQYyV8i8sEFITkrIrtTyt0CcHo40xGgMWZJRC5n3NcXpdQhZ2Ot/QzgYIb9klLqat9mAEweyHKOOysKpOd5877vrzjoABgEwUeSR3O8xqJAiMhatVo9NgA2m81KqVRazwFzJoWBzqnb7c7U6/WNXobGmEURuTlJIIBFpdRCH/hORE5OEkjyvdb6VA9ore0A2D9JIICOUqrcB0YAdkwSSPK31nrn/wEaYzoiMr2SGmOm/mjcCLqV5w5JtgE8SGxviEg5j9/Ityj48V3T/tbrGiJuGOddFaXUp8KtjeRKu90+6yjlcnlZROayiCTXtNZ/W5tzCMNwLo7j11nNm2RTa33N+QRB8JhkPQPIOI7na7XaaPNOGsATAFcyAmySvJOU9C4Apw7S1tbjKQE659QBnFW+sf30AZxAncR4BWCmYPBx8/Uois6lSoy+RyI1HgJw07+wiALwFMD1XCJq+JhOBQC4JyKzebIl6bTO7cIycTy4tfYwgIskjydCeG/yaH4AcH9yFcBz98+yDla0XFnxMvf/ACLQJyxhZgyxAAAAAElFTkSuQmCC"},"1e4b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-container"},[i("div",{staticClass:"tip"},[i("img",{staticClass:"icon",attrs:{src:a("0a08")}}),i("span",{staticClass:"text"},[t._v("报价单Logo会优先从历史记录中获取")]),i("button",{staticClass:"btn-log",on:{click:t.handleLog}},[t._v("记录")])]),i("div",{ref:"content",staticClass:"content-container"},[i("div",{staticClass:"content-wrap"},[i("div",{staticClass:"company common-wrap"},[i("div",{staticClass:"item"},[i("van-uploader",{attrs:{"after-read":t.afterRead}}),i("div",{staticClass:"logo",on:{click:t.handleLogo}},[i("img",{attrs:{src:t.info.company_logo,alt:"logo"}})]),i("div",{staticClass:"value"},[i("div",{staticClass:"name zh"},[i("van-field",{attrs:{type:"text",placeholder:"请输入公司名称"},model:{value:t.info.company_name_zh,callback:function(e){t.$set(t.info,"company_name_zh",e)},expression:"info.company_name_zh"}})],1),i("div",{staticClass:"name cn"},[i("van-field",{attrs:{type:"text",placeholder:"请输入公司英文名称"},model:{value:t.info.company_name_cn,callback:function(e){t.$set(t.info,"company_name_cn",e)},expression:"info.company_name_cn"}})],1)])],1),i("div",{staticClass:"item"},[t._m(0),i("div",{staticClass:"value"},[i("van-field",{attrs:{type:"text",placeholder:"请输入公司地址/Address"},model:{value:t.info.company_address,callback:function(e){t.$set(t.info,"company_address",e)},expression:"info.company_address"}})],1)]),i("div",{staticClass:"item"},[t._m(1),i("div",{staticClass:"value"},[i("van-field",{attrs:{type:"text",placeholder:"请输入致/TO"},model:{value:t.info.to,callback:function(e){t.$set(t.info,"to",e)},expression:"info.to"}})],1)]),i("div",{staticClass:"item"},[t._m(2),i("div",{staticClass:"value"},[i("span",{on:{click:function(e){t.showToDate=!0}}},[t._v(t._s(t.formatDate(t.info.to_date)))]),i("van-calendar",{attrs:{"show-confirm":!1,color:"#007BFF"},on:{select:t.handleToDate},model:{value:t.showToDate,callback:function(e){t.showToDate=e},expression:"showToDate"}})],1)]),i("div",{staticClass:"item"},[t._m(3),i("div",{staticClass:"value"},[i("van-field",{attrs:{type:"text",placeholder:"请输入自/From"},model:{value:t.info.from,callback:function(e){t.$set(t.info,"from",e)},expression:"info.from"}})],1)]),i("div",{staticClass:"item"},[t._m(4),i("div",{staticClass:"value"},[i("van-field",{attrs:{type:"text",placeholder:"请输入电话/微信"},model:{value:t.info.phone,callback:function(e){t.$set(t.info,"phone",e)},expression:"info.phone"}})],1)])]),i("div",{staticClass:"ship common-wrap"},[i("div",{staticClass:"tips"},[t._v("感谢您的询价，我们将会为您提供最优的运价解决方案和最优质的服务，根据您提供的货物信息，我司报价如下：")]),i("div",{staticClass:"content"},[i("table",[i("tr",[i("td",[t._v("起运港/POL：")]),i("td",[i("van-field",{attrs:{type:"text"},model:{value:t.info.start_port,callback:function(e){t.$set(t.info,"start_port",e)},expression:"info.start_port"}})],1)]),i("tr",[i("td",[t._v("目的港/POD：")]),i("td",[i("van-field",{attrs:{type:"text"},model:{value:t.info.end_port,callback:function(e){t.$set(t.info,"end_port",e)},expression:"info.end_port"}})],1)]),i("tr",[i("td",[t._v("船公司：")]),i("td",[i("van-field",{attrs:{type:"text"},model:{value:t.info.ship_company,callback:function(e){t.$set(t.info,"ship_company",e)},expression:"info.ship_company"}})],1)]),i("tr",[i("td",[t._v("船期：")]),i("td",[t.info.close_time?[i("span",{on:{click:function(e){t.showCloseTime=!0}}},[t._v(t._s(t.formatDate(t.info.close_time)))])]:i("span",{staticStyle:{color:"#999"},on:{click:function(e){t.showCloseTime=!0}}},[t._v("点击选择日期")]),i("van-calendar",{attrs:{"show-confirm":!1,color:"#007BFF"},on:{select:t.handleCloseTime},model:{value:t.showCloseTime,callback:function(e){t.showCloseTime=e},expression:"showCloseTime"}})],2)]),i("tr",[i("td",[t._v("运价有限期：")]),i("td",[t.info.start_time&&t.info.end_time?[i("span",{on:{click:function(e){t.showRangeTime=!0}}},[t._v(t._s(t.formatDate(t.info.start_time))+" ~ "+t._s(t.formatDate(t.info.end_time)))])]:i("span",{staticStyle:{color:"#999"},on:{click:function(e){t.showRangeTime=!0}}},[t._v("点击选择日期")]),i("van-calendar",{attrs:{type:"range","show-confirm":!1,color:"#007BFF"},on:{select:t.handleRangeTime},model:{value:t.showRangeTime,callback:function(e){t.showRangeTime=e},expression:"showRangeTime"}})],2)])])])]),i("div",{staticClass:"price common-wrap"},[i("div",{staticClass:"title"},[t._v("柜量/柜型")]),i("div",{staticClass:"content"},[i("table",[t._m(5),i("tr",[i("td",[t._v("20GP")]),i("td",[i("van-field",{attrs:{type:"number"},on:{input:t.calcTransPrice},model:{value:t.info.gp20_count,callback:function(e){t.$set(t.info,"gp20_count",e)},expression:"info.gp20_count"}})],1),i("td",[i("van-field",{attrs:{type:"number"},model:{value:t.info.gp20_weight,callback:function(e){t.$set(t.info,"gp20_weight",e)},expression:"info.gp20_weight"}})],1),i("td",[i("van-switch",{attrs:{"active-value":"1","inactive-value":"0",size:"24px"},model:{value:t.info.gp20_is_w,callback:function(e){t.$set(t.info,"gp20_is_w",e)},expression:"info.gp20_is_w"}})],1)]),i("tr",[i("td",[t._v("40GP")]),i("td",[i("van-field",{attrs:{type:"number"},on:{input:t.calcTransPrice},model:{value:t.info.gp40_count,callback:function(e){t.$set(t.info,"gp40_count",e)},expression:"info.gp40_count"}})],1),i("td",[i("van-field",{attrs:{type:"number"},model:{value:t.info.gp40_weight,callback:function(e){t.$set(t.info,"gp40_weight",e)},expression:"info.gp40_weight"}})],1),i("td",[i("van-switch",{attrs:{"active-value":"1","inactive-value":"0",size:"24px"},model:{value:t.info.gp40_is_w,callback:function(e){t.$set(t.info,"gp40_is_w",e)},expression:"info.gp40_is_w"}})],1)]),i("tr",[i("td",[t._v("40HQ")]),i("td",[i("van-field",{attrs:{type:"number"},on:{input:t.calcTransPrice},model:{value:t.info.hq40_count,callback:function(e){t.$set(t.info,"hq40_count",e)},expression:"info.hq40_count"}})],1),i("td",[i("van-field",{attrs:{type:"number"},model:{value:t.info.hq40_weight,callback:function(e){t.$set(t.info,"hq40_weight",e)},expression:"info.hq40_weight"}})],1),i("td",[i("van-switch",{attrs:{"active-value":"1","inactive-value":"0",size:"24px"},model:{value:t.info.hq40_is_w,callback:function(e){t.$set(t.info,"hq40_is_w",e)},expression:"info.hq40_is_w"}})],1)])])])]),i("div",{staticClass:"price common-wrap"},[i("div",{staticClass:"title"},[t._v("费用明细")]),i("div",{staticClass:"content"},[i("table",[t._m(6),i("tr",[i("td",[i("span",{staticClass:"query",on:{click:function(e){return t.queryPrice("yunjia")}}},[t._v("运费(O/F)")])]),i("td",[i("van-field",{attrs:{type:"number"},on:{input:t.calcTotal},model:{value:t.info.price_json.transPrice.sum,callback:function(e){t.$set(t.info.price_json.transPrice,"sum",e)},expression:"info.price_json.transPrice.sum"}})],1),i("td",[i("van-field",{attrs:{type:"number"},model:{value:t.info.price_json.transPrice.sum2,callback:function(e){t.$set(t.info.price_json.transPrice,"sum2",e)},expression:"info.price_json.transPrice.sum2"}})],1),i("td",[i("van-field",{attrs:{type:"text"},model:{value:t.info.price_json.transPrice.remark,callback:function(e){t.$set(t.info.price_json.transPrice,"remark",e)},expression:"info.price_json.transPrice.remark"}})],1)]),t._l(t.info.price_json.portSurcharge||[],(function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(e.title))]),i("td",[i("van-field",{attrs:{type:"number"},on:{input:t.calcSurcharge},model:{value:e.price,callback:function(a){t.$set(e,"price",a)},expression:"item.price"}})],1),i("td",[i("van-field",{attrs:{type:"number"},model:{value:e.price2,callback:function(a){t.$set(e,"price2",a)},expression:"item.price2"}})],1),i("td",[i("van-field",{attrs:{type:"text"},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"item.remark"}})],1)])})),t._l(t.info.price_json.companySurcharge||[],(function(e,a){return i("tr",{key:a+100},[i("td",[t._v(t._s(e.title))]),i("td",[i("van-field",{attrs:{type:"number"},on:{input:t.calcSurcharge},model:{value:e.price,callback:function(a){t.$set(e,"price",a)},expression:"item.price"}})],1),i("td",[i("van-field",{attrs:{type:"number"},model:{value:e.price2,callback:function(a){t.$set(e,"price2",a)},expression:"item.price2"}})],1),i("td",[i("van-field",{attrs:{type:"text"},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"item.remark"}})],1)])})),i("tr",[i("td",[i("span",{staticClass:"query",on:{click:function(e){return t.queryPrice("tuoche")}}},[t._v("拖车费")])]),i("td",[i("van-field",{attrs:{type:"number"},on:{input:t.calcTotal},model:{value:t.info.price_json.carPrice.sum,callback:function(e){t.$set(t.info.price_json.carPrice,"sum",e)},expression:"info.price_json.carPrice.sum"}})],1),i("td",[i("van-field",{attrs:{type:"number"},model:{value:t.info.price_json.carPrice.sum2,callback:function(e){t.$set(t.info.price_json.carPrice,"sum2",e)},expression:"info.price_json.carPrice.sum2"}})],1),i("td",[i("van-field",{attrs:{type:"text"},model:{value:t.info.price_json.carPrice.remark,callback:function(e){t.$set(t.info.price_json.carPrice,"remark",e)},expression:"info.price_json.carPrice.remark"}})],1)]),i("tr",[i("td",[i("span",{staticClass:"query",on:{click:function(e){return t.queryPrice("baoguan")}}},[t._v("报关费")])]),i("td",[i("van-field",{attrs:{type:"number"},on:{input:t.calcTotal},model:{value:t.info.price_json.customer_price.money,callback:function(e){t.$set(t.info.price_json.customer_price,"money",e)},expression:"info.price_json.customer_price.money"}})],1),i("td",[i("van-field",{attrs:{type:"number"},model:{value:t.info.price_json.customer_price.money2,callback:function(e){t.$set(t.info.price_json.customer_price,"money2",e)},expression:"info.price_json.customer_price.money2"}})],1),i("td",[i("van-field",{attrs:{type:"text"},model:{value:t.info.price_json.customer_price.reamrk,callback:function(e){t.$set(t.info.price_json.customer_price,"reamrk",e)},expression:"info.price_json.customer_price.reamrk"}})],1)]),i("tr",[t._m(7),i("td",[i("van-field",{attrs:{type:"number"},on:{input:t.calcTotal},model:{value:t.info.price_json.otherPrice.sum,callback:function(e){t.$set(t.info.price_json.otherPrice,"sum",e)},expression:"info.price_json.otherPrice.sum"}})],1),i("td",[i("van-field",{attrs:{type:"number"},model:{value:t.info.price_json.otherPrice.sum2,callback:function(e){t.$set(t.info.price_json.otherPrice,"sum2",e)},expression:"info.price_json.otherPrice.sum2"}})],1),i("td",[i("van-field",{attrs:{type:"text"},model:{value:t.info.price_json.otherPrice.reamrk,callback:function(e){t.$set(t.info.price_json.otherPrice,"reamrk",e)},expression:"info.price_json.otherPrice.reamrk"}})],1)]),i("tr",[i("td",{staticClass:"tit",attrs:{rowspan:"2"}},[t._v("合计")]),i("td",{staticClass:"total",attrs:{colspan:"3"}},[t._v("USD："+t._s(t.info.usd||""))])]),i("tr",[i("td",{staticClass:"total",attrs:{colspan:"3"}},[t._v("CNY："+t._s(t.info.cny||""))])])],2)])])]),t._m(8)]),i("div",{staticClass:"operate-wrap"},[i("div",{staticClass:"operate"},[i("div",{staticClass:"btn update",on:{click:t.handleSave}},[t._v("更新")]),i("div",{staticClass:"btn capture",on:{click:t.handleCapture}},[t._v("生成报价单")])])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("img",{staticClass:"icon",attrs:{src:a("d6f7"),alt:"address"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("img",{staticClass:"icon",attrs:{src:a("9b35"),alt:"mail"}}),i("span",{staticClass:"tit"},[t._v("致/TO：")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("img",{staticClass:"icon",attrs:{src:a("430c"),alt:"date"}}),i("span",{staticClass:"tit"},[t._v("时间/Date：")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("img",{staticClass:"icon",attrs:{src:a("cdf9"),alt:"from"}}),i("span",{staticClass:"tit"},[t._v("自/From：")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("img",{staticClass:"icon",attrs:{src:a("1ed2"),alt:"phone"}}),i("span",{staticClass:"tit"},[t._v("电话/微信：")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("箱型")]),a("th",[t._v("数量")]),a("th",[t._v("货重(KGS)")]),a("th",[t._v("重柜")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("收费项")]),a("th",[t._v("预付")]),a("th",[t._v("到付")]),a("th",[t._v("备注")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",[t._v("其它费")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"remark common-wrap"},[a("div",{staticClass:"title"},[t._v("备注/Remarks:")]),a("div",{staticClass:"content"},[a("div",[t._v("1、以上报价只适用于普通货物(非危险品或其他特殊货物)")]),a("div",[t._v("2、付款方式: 票结、月结")]),a("div",[t._v("3、如阁下所计划装载货物为20'GP, 则须知以下关于货物重量条款: ")]),a("div",[t._v("货物毛重(不包含集装箱重量) ≧ 18 tons: USD 150")]),a("div",[t._v("货物毛重(不包含集装箱重量) ≧ 21 tons: USD 250")]),a("div",{staticClass:"tit"},[t._v("温馨提示：")]),a("div",[t._v("由于运价和舱位变动频繁，敬请关注运价的有效期限，以及在订舱前致电我司确认运价及舱位事宜，")]),a("div",[t._v("订舱时，请将运价及相关船公司和船期等资料在订舱单上注明，以便阁下货物如期出运。多谢支持。")])])])}],s=a("18a0"),o=a.n(s),c=a("c0e9"),r=a.n(c),l=a("f262"),p=a("b775"),m=a("ed08"),d={name:"Quotation",data(){return{id:"",token:"",active:"",configData:{},showToDate:!1,showCloseTime:!1,showRangeTime:!1,info:{id:"",company_logo:a("a1d8"),company_name_zh:"",company_name_cn:"",company_address:"",to:"",to_date:"",from:"",phone:"",start_port_id:"",start_port:"",end_port_id:"",end_port:"",ship_company:"",close_time:"",start_time:"",end_time:"",gp20:"",gp20_count:"",gp20_weight:"",gp20_is_w:0,gp40:"",gp40_count:"",gp40_weight:"",gp40_is_w:0,hq40:"",hq40_count:"",hq40_weight:"",hq40_is_w:0,price_json:{transPrice:{sum:"",sum2:"",remark:""},portSurcharge:[],companySurcharge:[],carPrice:{sum:"",sum2:"",remark:""},customer_price:{money:"",money2:"",remark:""},otherPrice:{sum:"",sum2:"",remark:""}},usd:0,cny:0},usdSurcharge:0,cnySurcharge:0,defaultLogo:a("a1d8")}},created(){this.id=this.$route.query.id||"",this.token=this.$route.query.token||"",this.$store.commit("user/SET_TOKEN",this.token)},async mounted(){document.addEventListener("WeixinJSBridgeReady",(function(){o.a.miniProgram.getEnv((function(t){console.log("当前环境："+JSON.stringify(t))}))})),this.initData(),await this.getWxConfig()},methods:{async getWxConfig(){let t=await p["a"].wxConfig();this.configData=t.data},initWxConfig(){const t=this.configData;return new Promise((e,a)=>{o.a.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["chooseImage","uploadImage","getLocalImgData"]}),o.a.ready(t=>{e(o.a,t)}),o.a.error(t=>{a(o.a,t)})})},afterRead(t){const e=new FormData;e.append("image",t.file),p["a"].uploadFile(e).then(t=>{let e=t.data;e&&Object(m["b"])(l["a"].staticUrl+e).then(t=>{this.info.company_logo=t,this.$toast("h5上传成功")})})},handleLogo(){const t=this;t.initWxConfig().then(e=>{e.chooseImage({count:1,success:a=>{let i=a.localIds[0];t.$toast({message:i,duration:6e3}),e.getLocalImgData({localId:i,success:e=>{t.$toast({message:JSON.stringify(e.localData),duration:6e3});let a=(new Date).getTime(),i=Object(m["a"])(e.localData,a);console.log(i);const n=new FormData;n.append("image",i),p["a"].uploadFile(n).then(e=>{let a=e.data;a&&Object(m["b"])(l["a"].staticUrl+a).then(e=>{t.info.company_logo=e,t.$toast("wx上传成功")})})}})}})})},formatDate(t){return t?Object(m["c"])(t):""},initData(){p["a"].getInfo({id:this.id}).then(t=>{let e=t.data;e.company_logo?Object(m["b"])(l["a"].staticUrl+e.company_logo).then(t=>{e.company_logo=t}):e.company_logo=this.defaultLogo;for(const a in e)if(Object.hasOwnProperty.call(this.info,a)){const t=e[a];"price_json"!==a&&null!==t&&(this.info[a]=t)}if(e.price_json){for(const t in e["price_json"])if(Object.hasOwnProperty.call(e["price_json"],t)){const a=e["price_json"][t];if("transPrice"===t||"carPrice"===t||"customer_price"===t||"otherPrice"===t)for(const e in a)Object.hasOwnProperty.call(this.info["price_json"][t],e)&&(this.info["price_json"][t][e]=a[e]);else null!==a&&(this.info["price_json"][t]=a)}this.calcSurcharge()}this.info.to_date||(this.info.to_date=parseInt((new Date).getTime()/1e3))})},handleToDate(t){this.info.to_date=parseInt(new Date(t).getTime()/1e3),this.showToDate=!1},handleCloseTime(t){this.info.close_time=parseInt(new Date(t).getTime()/1e3),this.showCloseTime=!1},handleRangeTime(t){t[0]&&t[1]&&(this.info.start_time=parseInt(new Date(t[0]).getTime()/1e3),this.info.end_time=parseInt(new Date(t[1]).getTime()/1e3),this.showRangeTime=!1)},handleLog(){o.a.miniProgram.navigateTo({url:"/pages/chuancang/baojia/log"})},queryPrice(t){this.active=t,"yunjia"===t&&this.info.start_port_id&&this.info.end_port_id?o.a.miniProgram.navigateTo({url:"/pages/chuancang/dingcang/priceList?start_port_id="+this.info.start_port_id+"&end_port_id="+this.info.end_port_id}):(o.a.miniProgram.switchTab({url:"/pages/chuancang/index/index"}),o.a.miniProgram.postMessage({data:{active:t}}))},calcTransPrice(){let t=parseFloat(this.info.gp20)||0,e=parseFloat(this.info.gp40)||0,a=parseFloat(this.info.hq40)||0;if(t||e||a){const t=(parseFloat(this.info.gp20)||0)*(Number(this.info.gp20_count)||0)+(parseFloat(this.info.gp40)||0)*(Number(this.info.gp40_count)||0)+(parseFloat(this.info.hq40)||0)*(Number(this.info.hq40_count)||0);this.info.price_json.transPrice.sum=t,this.calcTotal()}},calcSurcharge(){let t=0,e=0;this.info.price_json.portSurcharge.forEach(a=>{"USD"===a.unit?t+=parseFloat(a.price)||0:"CNY"===a.unit&&(e+=parseFloat(a.price)||0)}),this.info.price_json.companySurcharge.forEach(a=>{"USD"===a.unit?t+=parseFloat(a.price)||0:"CNY"===a.unit&&(e+=parseFloat(a.price)||0)}),this.usdSurcharge=t,this.cnySurcharge=e,this.calcTotal()},calcTotal(){let t=0;t+=parseFloat(this.info.price_json.carPrice.sum)||0,t+=parseFloat(this.info.price_json.customer_price.money)||0,t+=parseFloat(this.info.price_json.otherPrice.sum)||0,this.info.cny=t+parseFloat(this.cnySurcharge);let e=parseFloat(this.info.price_json.transPrice.sum)||0;this.info.usd=parseFloat(e)+parseFloat(this.usdSurcharge)},handleSave(){p["a"].updateQuote(this.info).then(()=>{this.handleLog()})},async handleCapture(){if(!this.info.id)return void this.$toast("请先更新报价单");await p["a"].updateQuote({id:this.info.id,status:2});const t=this.$refs.content;r()(t,{backgroundColor:"#f1f1f1",useCORS:!0}).then(t=>{const e=t.toDataURL("image/png");o.a.miniProgram.postMessage({data:{imageData:e}}),o.a.miniProgram.navigateBack({delta:1})})}}},u=d,f=a("2877"),_=Object(f["a"])(u,i,n,!1,null,null,null);e["default"]=_.exports}}]);